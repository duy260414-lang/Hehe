local Players = game:GetService("Players");local RunService = game:GetService("RunService");local UIS = game:GetService("UserInputService");local TweenService = game:GetService("TweenService");local player = Players.LocalPlayer;local playerGui = player:WaitForChild("PlayerGui");if playerGui:FindFirstChild("Bom2devFlyUI") then playerGui.Bom2devFlyUI:Destroy()end;local gui = Instance.new("ScreenGui");gui.Name = "Bom2devFlyUI";gui.IgnoreGuiInset = true;gui.ResetOnSpawn = false;gui.Parent = playerGui;local main = Instance.new("Frame");main.Size = UDim2.new(0,160,0,60);main.Position = UDim2.new(0.1,0,0.4,0);main.BackgroundColor3 = Color3.fromRGB(10,10,20);main.BackgroundTransparency = 0.1;main.Active = true;main.Draggable = true;main.Parent = gui;Instance.new("UICorner", main).CornerRadius = UDim.new(0,14);local stroke = Instance.new("UIStroke", main);stroke.Thickness = 2;stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border;task.spawn(function() local hue = 0;while task.wait(0.05) and gui.Parent do hue = (hue + 0.01) % 1;stroke.Color = Color3.fromHSV(hue,1,1);end end);local title = Instance.new("TextLabel", main);title.Size = UDim2.new(1,0,0,20);title.BackgroundTransparency = 1;title.Text = "Bay";title.TextColor3 = Color3.fromRGB(255,255,255);title.Font = Enum.Font.GothamBold;title.TextSize = 16;local speedBox = Instance.new("TextBox", main);speedBox.Size = UDim2.new(0.55,0,0,25);speedBox.Position = UDim2.new(0.05,0,0.45,0);speedBox.BackgroundColor3 = Color3.fromRGB(25,25,40);speedBox.TextColor3 = Color3.fromRGB(255,255,255);speedBox.Font = Enum.Font.Gotham;speedBox.PlaceholderText = "Tốc độ";speedBox.Text = "1";speedBox.TextScaled = true;Instance.new("UICorner", speedBox).CornerRadius = UDim.new(0,8);local flyBtn = Instance.new("TextButton", main);flyBtn.Size = UDim2.new(0.45,0,0,30);flyBtn.Position = UDim2.new(0.5,0,0.45,0);flyBtn.BackgroundColor3 = Color3.fromRGB(50,255,200);flyBtn.Text = "Bay";flyBtn.Font = Enum.Font.GothamBold;flyBtn.TextSize = 16;flyBtn.TextColor3 = Color3.fromRGB(0,0,0);Instance.new("UICorner", flyBtn).CornerRadius = UDim.new(0,8);local speeds = tonumber(speedBox.Text) or 1;local moveScale = 1;local ascendSpeed = 1;local nowe = false;local tpwalking = false;local translateConns = {};local ascendConn, descendConn;local activeBg, activeBv;local function getChar() return player.Character end;local function getHumanoid(char) if not char then return nil end return char:FindFirstChildWhichIsA("Humanoid") end;local function getPrimaryPart(char) if not char then return nil end return char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("UpperTorso") or char:FindFirstChild("Torso") end;local function freezeAnimations(char) if not char then return end;pcall(function() if char:FindFirstChild("Animate") then char.Animate.Disabled = true end end);local Hum = char:FindFirstChildOfClass("Humanoid") or char:FindFirstChildOfClass("AnimationController");if Hum then for _,v in next, Hum:GetPlayingAnimationTracks() do pcall(function() v:AdjustSpeed(0) end) end end end;local function unfreezeAnimations(char) if not char then return end;pcall(function() if char:FindFirstChild("Animate") then char.Animate.Disabled = false end end);local Hum = char:FindFirstChildOfClass("Humanoid") or char:FindFirstChildOfClass("AnimationController");if Hum then for _,v in next, Hum:GetPlayingAnimationTracks() do pcall(function() v:AdjustSpeed(1) end) end end end;local function setHumanoidStates(hum, enable) if not hum then return end;local states = {Enum.HumanoidStateType.Climbing,Enum.HumanoidStateType.FallingDown,Enum.HumanoidStateType.Flying,Enum.HumanoidStateType.Freefall,Enum.HumanoidStateType.GettingUp,Enum.HumanoidStateType.Jumping,Enum.HumanoidStateType.Landed,Enum.HumanoidStateType.Physics,Enum.HumanoidStateType.PlatformStanding,Enum.HumanoidStateType.Ragdoll,Enum.HumanoidStateType.Running,Enum.HumanoidStateType.RunningNoPhysics,Enum.HumanoidStateType.Seated,Enum.HumanoidStateType.StrafingNoPhysics,Enum.HumanoidStateType.Swimming};for _, st in ipairs(states) do pcall(function() hum:SetStateEnabled(st, enable) end) end end;local function createBodiesOn(part) if not part or not part.Parent then return end;if activeBg then pcall(function() activeBg:Destroy() end) end;if activeBv then pcall(function() activeBv:Destroy() end) end;activeBg = Instance.new("BodyGyro", part);activeBg.P = 9e4;activeBg.MaxTorque = Vector3.new(9e9,9e9,9e9);activeBg.CFrame = part.CFrame;activeBv = Instance.new("BodyVelocity", part);activeBv.Velocity = Vector3.new(0,0.1,0);activeBv.MaxForce = Vector3.new(9e9,9e9,9e9) end;local function destroyBodies() if activeBg then pcall(function() activeBg:Destroy() end) activeBg = nil end;if activeBv then pcall(function() activeBv:Destroy() end) activeBv = nil end end;local function runTranslateThread() local hb = RunService.Heartbeat;local conn;conn = hb:Connect(function(dt) if not tpwalking then pcall(function() conn:Disconnect() end) return end;local char = getChar();if not char then return end;local hum = getHumanoid(char);if not hum or not hum.Parent then return end;local md = hum.MoveDirection or Vector3.new(0,0,0);if md.Magnitude > 0 then local displacement = md.Unit * moveScale * dt * 60;pcall(function() if char.PrimaryPart then char:TranslateBy(displacement) else local hrp = getPrimaryPart(char);if hrp and hrp.Parent then hrp.CFrame = hrp.CFrame + displacement end end end) end end);table.insert(translateConns, conn) end;local function startAscend() if ascendConn then return end;ascendConn = RunService.Heartbeat:Connect(function(dt) local char = getChar();if not char then return end;local disp = Vector3.new(0, ascendSpeed * dt * 60, 0);pcall(function() if char.PrimaryPart then char:TranslateBy(disp) else local hrp = getPrimaryPart(char);if hrp and hrp.Parent then hrp.CFrame = hrp.CFrame + disp end end end) end) end;local function stopAscend() if ascendConn then pcall(function() ascendConn:Disconnect() end) ascendConn = nil end end;local function startDescend() if descendConn then return end;descendConn = RunService.Heartbeat:Connect(function(dt) local char = getChar();if not char then return end;local disp = Vector3.new(0, -ascendSpeed * dt * 60, 0);pcall(function() if char.PrimaryPart then char:TranslateBy(disp) else local hrp = getPrimaryPart(char);if hrp and hrp.Parent then hrp.CFrame = hrp.CFrame + disp end end end) end) end;local function stopDescend() if descendConn then pcall(function() descendConn:Disconnect() end) descendConn = nil end end;local function startFly() if nowe then return end;local char = player.Character or player.CharacterAdded:Wait();local hum = getHumanoid(char);if not hum then return end;nowe = true;setHumanoidStates(hum, false);pcall(function() hum:ChangeState(Enum.HumanoidStateType.Swimming) end);freezeAnimations(char);local attach = getPrimaryPart(char);if attach then createBodiesOn(attach) end;tpwalking = true;for i = 1, math.max(1, speeds) do task.spawn(runTranslateThread) end;task.spawn(function() while nowe and activeBg do RunService.RenderStepped:Wait();local char = getChar();local part = getPrimaryPart(char);local cam = workspace.CurrentCamera;if part and cam and activeBg then pcall(function() local look = cam.CFrame.LookVector;local lookFlat = Vector3.new(look.X, 0, look.Z);if lookFlat.Magnitude > 0 then activeBg.CFrame = CFrame.new(part.Position, part.Position + lookFlat) end end) end end end) end;local function stopFly() if not nowe then return end;nowe = false;tpwalking = false;for _,c in ipairs(translateConns) do pcall(function() c:Disconnect() end) end;translateConns = {};stopAscend();stopDescend();local char = getChar();if char then local hum = getHumanoid(char);if hum then pcall(function() hum.PlatformStand = false end);setHumanoidStates(hum, true);pcall(function() hum:ChangeState(Enum.HumanoidStateType.RunningNoPhysics) end) end;unfreezeAnimations(char) end;destroyBodies() end;local function toggleFly() if nowe then stopFly() else startFly() end end;flyBtn.MouseButton1Click:Connect(function() toggleFly();if nowe then flyBtn.Text = "Tắt" else flyBtn.Text = "Bay" end end);speedBox.FocusLost:Connect(function(enter) local n = tonumber(speedBox.Text);if not n or n < 1 then speedBox.Text = tostring(speeds) return end;speeds = math.max(1, math.floor(n));speedBox.Text = tostring(speeds);if nowe then tpwalking = false;for _,c in ipairs(translateConns) do pcall(function() c:Disconnect() end) end;translateConns = {};tpwalking = true;for i = 1, math.max(1, speeds) do task.spawn(runTranslateThread) end end end);player.CharacterAdded:Connect(function(char) task.wait(0.7);local hum = char:FindFirstChildWhichIsA("Humanoid");if hum then pcall(function() hum.PlatformStand = false end) end;unfreezeAnimations(char);stopFly() end);speedBox.Text = tostring(speeds);pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Bom2dev Bay",Text = " ",Duration = 4}) end)
